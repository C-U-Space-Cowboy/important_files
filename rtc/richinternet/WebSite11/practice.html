<html>
	<head>
		<title>AngularJS Directives</title>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
		<style>
			table, th, td {
				border: 1px solid black;
			}
		</style>
	</head>
   <body ng-app="storeLookup">
    	<h1>Sample Application</h1>
    	
    	<div ng-controller="lookup" ng-init=> 
    	   <p>Enter your Name: <input type = "text" ng-model = "name"></p>
    	   <p>Hello <span ng-bind = "name"></span>!</p>
    	   <p>Stores to buy from:</p>
    	
    	   <ol>
    	      <li ng-repeat="store in stores">
    	         {{ 'Store: ' + store.name}}
				 <table>
					 <tr>
						 <th>Item</th>
						 <th>Amount</th>
						 <th>Price</th>
						 <th>Total</th>
					 </tr>
					 <tr ng-repeat="item in store.list">
						 <td>{{item.name}}</td>
						 <td>{{item.amount}}</td>
						 <td>{{item.price}}</td>
						 <td>{{item.amount * item.price}}</td>
					 </tr>
				 </table>
    	      </li>
    	   </ol>
    	</div>
		<script>
		    angular.module("storeLookup", []).controller("lookup", ['$scope', function ($scope) {
				// business logic
				$scope.stores = [
					{name: 'Costco', list: [{
						name: "Ice Cream",
						amount: 1,
						price: 4.95
					}, {
						name: "Bananas",
						amount: 1,
						price: 5.95
					}, {
						name: "Chocolate Syrup",
						amount: 1,
						price: 3.99
					}]},
					{name: 'Safeway', list: [{
						name: "Tortilla Chips",
						amount: 1,
						price: 7.97
					}, {
						name: "Shredded Cheese",
						amount: 1,
						price: "4.90"
					}]},
					{name: 'Fred Meyer', list: [{
						name: "Lettuce",
						amount: 1,
						price: 2.70
					}, {
						name: "Tomato",
						amount: 2,
						price: 0.70
					}, {
						name: "Croutons",
						amount: 1,
						price: 3.95
					}]}
				];
		    }]);
		</script>
   </body>
</html>
